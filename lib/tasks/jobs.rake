namespace :jobs do
  desc 'Create sample jobs for viecdayroi application'
  task create_jobs: :environment do
    Job.delete_all if Job.count.positive?
    def salary_randomizer
      [rand(1..20)].sample * 10_000_000
    end

    def job_type_randomizer
      %w(going pending expired).sample
    end

    def created_at_randomizer
      Date.today + [rand(1..10)].sample
    end

    def province_randomizer
      provinces = Province.all.map(&:name).freeze
      provinces.sample
    end

    def job_system_randomizer
      %w(vieccongty viecgiasu viectudo viecthuctap viecnha).sample
    end

    job_benifit_text = '<div data-contents="true"><ul class="public-DraftStyleDefault-ul" data-offset-key="86d8u-0-0"><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-reset public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="35d8h" data-offset-key="86d8u-0-0"><div data-offset-key="86d8u-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="86d8u-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Free high quality office lunch buffet or restaurant menu.</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="35d8h" data-offset-key="26u4c-0-0"><div data-offset-key="26u4c-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="26u4c-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">All Day Coffee Station Machine with some of the best coffee beans around.</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="35d8h" data-offset-key="ego6p-0-0"><div data-offset-key="ego6p-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="ego6p-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Free Flow of Coffee and Drinks (Juice, Coke, Sprite, Red Bull)</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="35d8h" data-offset-key="5la2a-0-0"><div data-offset-key="5la2a-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="5la2a-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Every Friday Special Snack &amp; Beers</span></span></div></li></ul></div>'
    job_description_text = '<div data-contents="true"><ul class="public-DraftStyleDefault-ul" data-offset-key="e1onp-0-0"><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-reset public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="dls62" data-offset-key="e1onp-0-0"><div data-offset-key="e1onp-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="e1onp-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Product development and see your features and ideas being implemented and used by thousands of users everyday.</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="dls62" data-offset-key="uo54-0-0"><div data-offset-key="uo54-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="uo54-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Join a young, winning and regional team working on disruptive technologies.</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="dls62" data-offset-key="esp9p-0-0"><div data-offset-key="esp9p-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="esp9p-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Work closely with the regional teams (product, businesses) to see userâ€™s and business teams feedback and provide solutions to improve your own product.</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="dls62" data-offset-key="1u1o1-0-0"><div data-offset-key="1u1o1-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="1u1o1-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Experience with web front-end such as HTML, JavaScript, CoffeeScript, CSS, SASS, jQuery.</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="dls62" data-offset-key="c4l67-0-0"><div data-offset-key="c4l67-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="c4l67-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Experience with database system (Postgres, MongoDB)</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="dls62" data-offset-key="2u89m-0-0"><div data-offset-key="2u89m-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="2u89m-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">An exciting opportunity to work with the fastest growing international logistics player.</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="dls62" data-offset-key="eah08-0-0"><div data-offset-key="eah08-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="eah08-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">International environment where you can work and learn with coworkers from different southeast asian markets.</span></span></div></li></ul></div>'
    job_requirement_text = '<div data-contents="true"><ul class="public-DraftStyleDefault-ul" data-offset-key="19poc-0-0"><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-reset public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="36ct4" data-offset-key="19poc-0-0"><div data-offset-key="19poc-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="19poc-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Sponsorship for 6 or 12 months Gym (2 floors above) to stay healthy and in shape!</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="36ct4" data-offset-key="9u237-0-0"><div data-offset-key="9u237-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="9u237-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Sponsorship for 6 or 12 months Gym (2 floors above) to stay healthy and in shape!</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="36ct4" data-offset-key="e1qk7-0-0"><div data-offset-key="e1qk7-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="e1qk7-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Sponsorship for 6 or 12 months Gym (2 floors above) to stay healthy and in shape!</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="36ct4" data-offset-key="8bkjd-0-0"><div data-offset-key="8bkjd-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="8bkjd-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Sponsorship for 6 or 12 months Gym (2 floors above) to stay healthy and in shape!</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="36ct4" data-offset-key="550cg-0-0"><div data-offset-key="550cg-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="550cg-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Sponsorship for 6 or 12 months Gym (2 floors above) to stay healthy and in shape!</span></span></div></li><li class="public-DraftStyleDefault-unorderedListItem public-DraftStyleDefault-depth0 public-DraftStyleDefault-listLTR" data-block="true" data-editor="36ct4" data-offset-key="55h3t-0-0"><div data-offset-key="55h3t-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="55h3t-0-0" style="color: rgb(58, 58, 58); background-color: rgb(255, 255, 255); font-size: 16px; font-family: Roboto, sans-serif;"><span data-text="true">Sponsorship for 6 or 12 months Gym (2 floors above) to stay healthy and in shape!</span></span></div></li></ul></div>'
    
    Category.all.each do |category_item|
      1.times do
        Job.create!(
          benifit: job_benifit_text,
          title: Faker::Job.title,
          salary_type: 'Per month',
          salary: salary_randomizer,
          province: province_randomizer,
          description: job_description_text,
          requirement: job_requirement_text,
          category: category_item.name,
          job_type: job_type_randomizer,
          job_system: job_system_randomizer,
          created_at: created_at_randomizer,
          company_name: Faker::Company.name,
          user_id: User.first.id,
        )
      end
    end
  end
end
